(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,a,t){e.exports=t(247)},155:function(e,a,t){},156:function(e,a,t){},247:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(7),l=t.n(c),o=t(11),u=t(46),s=t(134),d=t.n(s),i=(t(155),t(19)),m=(t(156),t(28)),p=t.n(m),f=t(58),b=t(50),y=t.n(b),E=t(135),v=t.n(E),N={members:[{_id:"5cce90df785cdd0004972bac",slackId:"U48KN3G3C",playerName:"mattp"},{_id:"5ccf0636785cdd0004972bad",slackId:"UFG9SDVCL",playerName:"conica"},{_id:"5ccf33bb785cdd0004972bae",slackId:"U7TNP566A",playerName:"eric"},{_id:"5ccf5dc7785cdd0004972bb3",slackId:"U02FFKR85",playerName:"connk"},{_id:"5cd05a4c997d380004a43e67",slackId:"U0ZP8UURH",playerName:"chrih"},{_id:"5cd07401997d380004a43e68",slackId:"U04UBTXTH",playerName:"brianw"},{_id:"5cd07fb1853f6e0004bcf432",slackId:"U6LTAE2UX",playerName:"jonchay"},{_id:"5cd24069a271c50004b02e2c",slackId:"U1QPCRYHW",playerName:"yiyiz"},{_id:"5cd4d0121f673600044e6da4",slackId:"U5NDP62LR",playerName:"james"},{_id:"5cd4d0241f673600044e6da6",slackId:"UCG1SBW2W",playerName:"dj"},{_id:"5cd4d0351f673600044e6da8",slackId:"UH3TCPT8F",playerName:"jenny"},{_id:"5cd4d0411f673600044e6da9",slackId:"UD04THUFL",playerName:"jen"},{_id:"5cd4d2ee1f673600044e6daf",slackId:"U26429LJF",playerName:"winnw"},{_id:"5cd4d41d1f673600044e6db1",slackId:"U2BAY5HC2",playerName:"ryanpo"},{_id:"5cd4d6211f673600044e6db5",slackId:"U26JWFPCZ",playerName:"mil"},{_id:"5cd707abb19f860004b43a63",slackId:"U02FMB0M2",playerName:"alok"},{_id:"5cdb70a67d15b700045c6618",slackId:"U1JLEPA31",playerName:"xiaozh"},{_id:"5cde10e82d08300004827770",slackId:"U0DMSU7FX",playerName:"jazz"},{_id:"5cde12b32d08300004827775",slackId:"U4M2V9GH0",playerName:"cren"},{_id:"5ce74798860fb6000433b7a4",slackId:"UHT67TYRM",playerName:"victor"}]},j={players:[{_id:"5cede5ee773f2512101a3aac",name:"chrih",password:"dragon",slackId:"<@U0ZP8UURH>"},{_id:"5cedeb9d773f2512101a3aad",name:"mattp",password:"snake",slackId:"<@U48KN3G3C>"},{_id:"5cedebce773f2512101a3aaf",name:"luci",password:"goat",slackId:"<@U48KN3G3C>"},{_id:"5ccf0636785cdd0004972bad",slackId:"UFG9SDVCL",name:"conica"},{_id:"5ccf33bb785cdd0004972bae",slackId:"U7TNP566A",name:"eric"},{_id:"5ccf5dc7785cdd0004972bb3",slackId:"U02FFKR85",name:"connk"},{_id:"5cd07401997d380004a43e68",slackId:"U04UBTXTH",name:"brianw"},{_id:"5cd07fb1853f6e0004bcf432",slackId:"U6LTAE2UX",name:"jonchay"},{_id:"5cd24069a271c50004b02e2c",slackId:"U1QPCRYHW",name:"yiyiz"},{_id:"5cd4d0121f673600044e6da4",slackId:"U5NDP62LR",name:"james"},{_id:"5cd4d0241f673600044e6da6",slackId:"UCG1SBW2W",name:"dj"},{_id:"5cd4d0351f673600044e6da8",slackId:"UH3TCPT8F",name:"jenny"},{_id:"5cd4d0411f673600044e6da9",slackId:"UD04THUFL",name:"jen"},{_id:"5cd4d2ee1f673600044e6daf",slackId:"U26429LJF",name:"winnw"},{_id:"5cd4d41d1f673600044e6db1",slackId:"U2BAY5HC2",name:"ryanpo"},{_id:"5cd4d6211f673600044e6db5",slackId:"U26JWFPCZ",name:"mil"},{_id:"5cd707abb19f860004b43a63",slackId:"U02FMB0M2",name:"alok"},{_id:"5cdb70a67d15b700045c6618",slackId:"U1JLEPA31",name:"xiaozh"},{_id:"5cde10e82d08300004827770",slackId:"U0DMSU7FX",name:"jazz"},{_id:"5cde12b32d08300004827775",slackId:"U4M2V9GH0",name:"cren"},{_id:"5cf08401773f2512101a3acd",name:"adrian",password:"snake",slackId:"<@U7JL1S1S5>"},{_id:"5ce74798860fb6000433b7a4",slackId:"UHT67TYRM",name:"victor"}]},h={reservations:[{players:["mattp","luci"],_id:"5cee19bd773f2512101a3ab0",courtNumber:25,startAt:1559108029420,randoms:!1,token:"561af2c0-81d3-11e9-9e61-4948ef2497ff",endAt:1559110729420},{players:[],_id:"5cee1aef773f2512101a3ab1",courtNumber:25,startAt:1559110729420,randoms:!0,token:"0c74c5a0-81d4-11e9-9e61-4948ef2497ff",endAt:1559113429420},{players:[],_id:"5cee1afa773f2512101a3ab2",courtNumber:25,startAt:1559113429420,randoms:!0,token:"13198440-81d4-11e9-9e61-4948ef2497ff",endAt:1559116129420},{players:[],_id:"5cee1afe773f2512101a3ab3",courtNumber:10,startAt:1559116129420,randoms:!0,token:"154da250-81d4-11e9-9e61-4948ef2497ff",endAt:1559118829420},{players:["jazz","conica"],_id:"5cee19bd773f2512101a3ab0",courtNumber:10,startAt:1559110729420,randoms:!1,token:"561af2c0-81d3-11e9-9e61-4948ef2497ff",endAt:1559113429420},{players:["connk","brianw"],_id:"5cee19bd773f2512101a3ab0",courtNumber:26,startAt:1559108029420,randoms:!1,token:"561af2c0-81d3-11e9-9e61-4948ef2497ff",endAt:1559110729420},{players:["jonchay","yiyiz"],_id:"5cee19bd773f2512101a3ab0",courtNumber:27,startAt:1559108029420,randoms:!1,token:"561af2c0-81d3-11e9-9e61-4948ef2497ff",endAt:1559110729420},{players:["jen","jenny"],_id:"5cee19bd773f2512101a3ab0",courtNumber:26,startAt:1559110729420,randoms:!1,token:"561af2c0-81d3-11e9-9e61-4948ef2497ff",endAt:1559113429420}]},k="https://bab.moepas.com/api/",O="players/add",C="players/delete",_="courts/register",w="courts/unregister",A="FETCH_MEMBERS",U="FETCH_PLAYERS",g="FETCH_COURTS",P="CREATE_PLAYER",I="REMOVE_PLAYER",T="UPDATE_PLAYER",R="CREATE_COURT",M="REMOVE_RESERVATION",F="SELECT_PLAYER",S="DESELECT_PLAYERS",L="START_UPDATING_PLAYER",x="CANCEL_PLAYER_UPDATE",B="SELECT_MEMBER",D="SELECT_COURT_NUMBER",H="SELECT_COURT_RANDOMS",z="FILTER_PLAYER",Y="FILTER_MEMBER",G="CANCEL_MEMBER_CREATE",W="SET_TOAST",J="DISPLAY_MODAL",V="CLEAR_MODAL";function X(){var e=Promise.resolve({data:j});return{type:U,payload:e}}function K(){return{type:S}}function Z(e){var a=e.courtNumber;return{type:D,payload:void 0===a?-1:a}}function Q(){return(Q=Object(f.a)(p.a.mark(function e(a,t,r){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:W,payload:"Unable to update player"},e.next=3,q(a);case 3:if(e.sent.type!==W){e.next=6;break}return e.abrupt("return",n);case 6:return e.next=8,ee({name:t,password:r});case 8:if(e.sent.type!==W){e.next=11;break}return e.abrupt("return",n);case 11:return e.abrupt("return",{type:T,payload:{player:a,name:t,password:r}});case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function q(e){return $.apply(this,arguments)}function $(){return($=Object(f.a)(p.a.mark(function e(a){var t,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=I,r=null,e.next=4,y.a.post(k+C,a).then(function(){r=a}).catch(function(e){console.log(e),t=W,r="Unable to delete the player"});case 4:return e.abrupt("return",{type:t,payload:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ee(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(f.a)(p.a.mark(function e(a){var t,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=P,r=null,e.next=4,y.a.post(k+O,a).then(function(){r=a}).catch(function(e){console.log(e),t=W,r="Unable to create the player"});case 4:return e.abrupt("return",{type:t,payload:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(){return(te=Object(f.a)(p.a.mark(function e(a){var t,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=R,r=null,e.next=4,y.a.post(k+_,a).then(function(e){r=e}).catch(function(e){console.log(e),t=W,r="Unable to create the court"});case 4:return e.abrupt("return",{type:t,payload:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function re(){return(re=Object(f.a)(p.a.mark(function e(a){var t,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=M,r=null,e.next=4,y.a.post(k+w,{token:a.token}).then(function(){r=a}).catch(function(e){console.log(e),t=W,r="Unable to remove reservation"});case 4:return e.abrupt("return",{type:t,payload:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pageModal";return{type:J,payload:e}}function ce(){return{type:V,payload:Promise.resolve()}}function le(e){var a=e.member,t=e.highlighted,r=Object(o.b)(),c=a.isNew?'Create password for: "'.concat(a.name,'"'):a.name;return n.a.createElement("span",{onClick:function(){t||r(function(e){return{type:B,payload:e}}(a)),r(ne())}},c)}y.a.interceptors.request.use(function(e){return e.headers["Content-type"]="application/x-www-form-urlencoded",e.data=v.a.stringify(e.data),e});var oe=t(255);function ue(e){var a=e.children,t=e.modalId,r=void 0===t?"pageModal":t,c=e.onCancel,l=e.onSuccess,u=e.successEnabled,s=void 0===u||u,d=e.title,i=Object(o.b)(),m=Object(o.c)(function(e){return e.displays.modalToDisplay})===r;return n.a.createElement(oe.a,{visible:m,onDidDismiss:function(){return i(ce())},title:d,onOk:function(){i(ce()).then(function(){l&&l()})},onCancel:function(){i(ce()).then(function(){c&&c()})},okButtonProps:{disabled:!s}},a)}var se=t(36),de=["mouse","ox","tiger","rabbit","dragon","snake","horse","goat","monkey","rooster","dog","pig","cat"];function ie(e){var a=e.selectedPassword,t=e.updatePassword,r=function(e){return e===a},c=function(e){return function(){return t(e)}};return n.a.createElement("div",{className:"d-inline-flex flex-wrap justify-content-center"},de.map(function(e){return n.a.createElement(se.a,{disabled:r(e),onClick:c(e),key:e,className:"m-1"},e)}))}function me(){var e=Object(o.b)(),a=Object(o.c)(function(e){return e.selected.memberToCreate}),t=Object(r.useState)(""),c=Object(i.a)(t,2),l=c[0],u=c[1];return n.a.createElement(ue,{onCancel:function(){return e({type:G})},onSuccess:function(){return e(ee({name:a.name,password:l}))},title:a.name},n.a.createElement(ie,{selectedPassword:l,updatePassword:u}))}var pe=t(257),fe=t(59),be=t(29),ye=t(256),Ee=t(12),ve=pe.a.Content,Ne=pe.a.Header;function je(){var e=Object(o.b)(),a=Object(o.c)(function(e){return e.people.filteredMembers||e.people.chunkedMembers}),t=Object(o.c)(function(e){return e.selected.memberNameFilter}),c=function(){return e(function(){var e=Promise.resolve({data:N});return{type:A,payload:e}}())};Object(r.useEffect)(function(){c()},[]);return n.a.createElement(pe.a,null,n.a.createElement(Ne,null,n.a.createElement(ye.a,{className:"pr-2 pl-2",placeholder:"Filter or add Member",size:"large",prefix:n.a.createElement(Ee.a,{type:"search",style:{color:"rgba(0,0,0,.25)"}}),value:t,onChange:function(a){return e((t=a.target.value,{type:Y,payload:t}));var t}})),n.a.createElement(ve,null,a.map(function(e,a){return n.a.createElement(fe.a,{key:a},e.map(function(e,a){return n.a.createElement(be.a,{className:"p-2",span:8,key:a},n.a.createElement(le,{member:e,key:e._id,isNewMember:e.isNew}))}))}),n.a.createElement(me,null)))}var he=t(250),ke=t(251),Oe=t(252);function Ce(e){var a=e.player,t=Object(o.b)(),r=n.a.createElement(n.a.Fragment,null,n.a.createElement(Ee.a,{type:"edit",style:{fontSize:"20px"},onClick:function(){t(function(e){return{type:L,payload:e}}(a)),t(ne("playerEditModal"))}}),n.a.createElement(he.a,{type:"vertical"}),n.a.createElement(Ee.a,{type:"delete",style:{fontSize:"20px",color:"red"},onClick:function(){t(q(a))}})),c=n.a.createElement(ke.a,{placement:"left",content:r,trigger:"click"},n.a.createElement(Ee.a,{type:"more"}));return n.a.createElement(Oe.a.Item,{actions:[c],className:"pl-2",key:a._id},n.a.createElement(Oe.a.Item.Meta,{description:a.name}),n.a.createElement("div",null,a.password))}function _e(){var e=Object(o.b)(),a=Object(o.c)(function(e){return e.selected.playerToUpdate}),t=Object(r.useState)(a.password),c=Object(i.a)(t,2),l=c[0],u=c[1],s=Object(r.useState)(a.name),d=Object(i.a)(s,2),m=d[0],p=d[1],f=n.a.createElement(n.a.Fragment,null,a.name," : ",a.password);return n.a.createElement(ue,{modalId:"playerEditModal",onCancel:function(){return e({type:x})},onSuccess:function(){return e(function(e,a,t){return Q.apply(this,arguments)}(a,m,l))},title:f},n.a.createElement(ye.a,{className:"mb-2",addonBefore:"Name:",placeholder:"Enter Name",value:m,onChange:function(e){return p(e.target.value)}}),n.a.createElement(ie,{selectedPassword:l,updatePassword:u}),n.a.createElement(he.a,null),n.a.createElement("span",{className:"text-muted"},"Is this correct?")," ",m," : ",l)}function we(){var e=Object(o.b)(),a=Object(r.useState)(""),t=Object(i.a)(a,2),c=t[0],l=t[1],u=Object(r.useState)(""),s=Object(i.a)(u,2),d=s[0],m=s[1],p=function(){l(""),m("")},f=d&&c;return n.a.createElement(ue,{onCancel:p,onSuccess:function(){e(ee({name:d,password:c})),p()},successEnabled:f,title:"Create new Player"},n.a.createElement(ye.a,{className:"mb-2",addonBefore:"Name:",placeholder:"Enter Name",value:d,onChange:function(e){return m(e.target.value)}}),n.a.createElement(ie,{selectedPassword:c,updatePassword:l}),n.a.createElement(he.a,null),n.a.createElement("span",{className:"text-muted"},"Is this correct?")," ",d," : ",c)}var Ae=pe.a.Content,Ue=pe.a.Footer,ge=pe.a.Header;function Pe(){var e=Object(o.b)(),a=Object(o.c)(function(e){return e.people.filteredPlayers||e.people.partitionedPlayers}),t=Object(i.a)(a,2),c=t[0],l=t[1],u=Object(o.c)(function(e){return e.selected.playerNameFilter});return Object(r.useEffect)(function(){e(X())},[]),n.a.createElement(pe.a,null,n.a.createElement(ge,null,n.a.createElement(ye.a,{className:"pr-2 pl-2",placeholder:"Filter or add Player",size:"large",prefix:n.a.createElement(Ee.a,{type:"search",style:{color:"rgba(0,0,0,.25)"}}),value:u,onChange:function(a){return e((t=a.target.value,{type:z,payload:t}));var t}})),n.a.createElement(Ae,{className:"h-100"},n.a.createElement(Oe.a,{className:"pb-5"},n.a.createElement("div",{className:"list-header"},"Available Players"),l.map(function(e){return n.a.createElement(Ce,{player:e,key:e._id})}),n.a.createElement("div",{className:"list-header"},"Players in use"),c.map(function(e){return n.a.createElement(Ce,{player:e,key:e._id})}))),n.a.createElement(Ue,null,n.a.createElement(se.a,{className:"w-100",onClick:function(){return e(ne())}},"Add Player")),n.a.createElement(_e,null),n.a.createElement(we,null))}var Ie=t(253);function Te(e){var a=e.court,t=Object(o.b)();return n.a.createElement(Ie.a,{className:"m-3",size:"small",type:"inner",title:"Court ".concat(a.courtNumber),onClick:function(){t(Z(a)),t(ne("courtEditModal"))}},a.time)}var Re=t(9),Me=t.n(Re),Fe=t(260);function Se(e){var a=e.player,t=(e.ignoreEdit,Object(o.c)(function(e){return e.selected.players})),r=Object(o.b)(),c=Me.a.has(t,a._id),l=c?"text-primary":"text-dark";return n.a.createElement(Oe.a.Item,{onClick:function(){return r(function(e){return{type:F,payload:e}}(a))}},n.a.createElement(Oe.a.Item.Meta,{description:n.a.createElement(Fe.a,{checked:c},n.a.createElement("span",{className:l},a.name))}),n.a.createElement("div",null,n.a.createElement("span",{className:l},a.password)))}var Le=t(258);function xe(){var e=Object(o.c)(function(e){return e.people.filteredPlayers||e.people.partitionedPlayers}),a=Object(i.a)(e,2),t=(a[0],a[1]),c=Object(o.c)(function(e){return e.selected.useCourtRandoms}),l=Object(o.b)();return Object(r.useEffect)(function(){l(X())},[]),n.a.createElement(Oe.a,null,n.a.createElement(Le.a.Group,{className:"mb-1 d-flex justify-content-center",onChange:function(){!c&&l(K()),l({type:H})},defaultValue:c},n.a.createElement(Le.a.Button,{value:!1,checked:!c},"Use Players?"),n.a.createElement(Le.a.Button,{value:!0,checked:c},"Use Randoms?")),n.a.createElement("div",{className:"list-header"},"Available players"),t.map(function(e){return n.a.createElement(Se,{player:e,key:e._id})}))}function Be(){var e=Object(o.b)(),a=Object(r.useState)(0),t=Object(i.a)(a,2),c=t[0],l=t[1],u=Object(r.useState)(0),s=Object(i.a)(u,2),d=s[0],m=s[1],p=Object(o.c)(function(e){return e.selected.playerNames}),f=Object(o.c)(function(e){return e.selected.useCourtRandoms}),b=Object(o.c)(function(e){return e.selected.courtCreatable});return n.a.createElement(ue,{onCancel:function(){return e(K())},onSuccess:function(){e(function(e){return te.apply(this,arguments)}({courtNumber:c,names:p,delay:d,randoms:f})),e(K())},successEnabled:b,title:"Create Court"},n.a.createElement(ye.a,{addonBefore:"Court Number:",placeholder:"Enter Court Number",type:"number",value:c,onChange:function(e){return l(e.target.value)}}),n.a.createElement(ye.a,{className:"mb-2",addonBefore:"Court Delay:",placeholder:"Enter Delay",type:"number",value:d,onChange:function(e){return m(e.target.value)}}),n.a.createElement(xe,null))}function De(e){var a=e.reservation,t=Object(o.b)(),r=a.players.join(" ")||"randoms",c=n.a.createElement(Ee.a,{type:"delete",style:{fontSize:"20px",color:"red"},onClick:function(){t(function(e){return re.apply(this,arguments)}(a))}}),l=n.a.createElement(ke.a,{placement:"left",content:c,trigger:"click"},n.a.createElement(Ee.a,{type:"more"}));return n.a.createElement(Oe.a.Item,{value:a._id,actions:[l]},n.a.createElement(Oe.a.Item.Meta,{description:r}),n.a.createElement("div",{className:"text-muted"},a.time))}function He(){var e=Object(o.b)(),a=Object(o.c)(function(e){return e.selected.courtNumber}),t=Object(o.c)(function(e){return e.courts.courtGroups[a]});"courtEditModal"!==Object(o.c)(function(e){return e.displays.modalToDisplay})||t||e(ce());return n.a.createElement(ue,{modalId:"courtEditModal",onCancel:function(){return e(Z(-1))},title:"Court ".concat(a)},n.a.createElement(Oe.a,null,t&&t.map(function(e){return n.a.createElement(De,{reservation:e})})))}var ze=pe.a.Content,Ye=pe.a.Footer,Ge=12e4;function We(){var e=Object(o.b)(),a=Object(o.c)(function(e){return e.courts}),t=a.current,c=a.upcoming;function l(){return e(function(){var e=Promise.resolve({data:h});return{type:g,payload:e}}()).then(function(){return e(X())})}Object(r.useEffect)(function(){l()},[]),Object(r.useEffect)(function(){var e=setInterval(l,Ge);return function(){return clearInterval(e)}},[]);var u=function(e){return e.map(function(e){return n.a.createElement(Te,{court:e,key:e._id})})};return n.a.createElement(pe.a,null,n.a.createElement(ze,null,n.a.createElement(Oe.a,null,n.a.createElement("div",{className:"list-header"},"Current Courts"),u(t),n.a.createElement("div",{className:"list-header"},"Upcoming Courts"),u(c))),n.a.createElement(Ye,null,n.a.createElement(se.a,{className:"w-100",onClick:function(){return e(ne())}},"Add Court")),n.a.createElement(Be,null),n.a.createElement(He,null))}var Je=t(254).a.Title,Ve=pe.a.Header,Xe=pe.a.Content,Ke="PLAYER_PANE",Ze="COURT_PANE",Qe="MEMBER_PANE";var qe=t(15),$e=t(66),ea={members:[],players:[],partitionedPlayers:[[],[]],chunkedMembers:[],filteredPlayers:null,filteredMembers:null,reservedPlayerNames:[],playerNameFilter:null},aa=3,ta=function(e){return function(a){var t=a.name;return Me.a.toLower(t).includes(Me.a.toLower(e))}};function ra(e){return 0===e.length?[]:e=Me.a.chunk(e,aa)}function na(e,a){return Me.a.partition(e,function(e){return Me.a.includes(a,e.name)})}function ca(e,a,t){return Me.a.isEmpty(t)?null:na(Me.a.filter(e,ta(t)),a)}function la(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.players;return Object(qe.a)({},e,{players:a,partitionedPlayers:na(a,e.reservedPlayerNames),filteredPlayers:ca(a,e.reservedPlayerNames,e.playerNameFilter)})}var oa={players:{},memberToCreate:{},password:null,playerToUpdate:{},playerNameFilter:null,memberNameFilter:null,playerNames:[],court:{},useCourtRandoms:!1,courtCreatable:!1};var ua=t(60),sa=t.n(ua),da=function(){return new Date};function ia(e,a){var t=Me.a.map(e,ma),r=Me.a.groupBy(Me.a.map(t,pa),"courtNumber"),n=Me.a.reject(t,"randoms"),c=function(e){return Me.a.reduceRight(e,function(e,a){var t=Me.a.last(e);return function(e,a){return e&&e.courtNumber===a.courtNumber&&e.randoms===a.randoms&&e.startAt.isSame(a.endAt)}(t,a)?(t.endAt=a.startAt,t.isCurrentCourt|=a.isCurrentCourt,e):e.concat(a)},[])}(Me.a.sortBy(n,["courtNumber","startAt"])),l=Me.a.sortBy(c,["startAt"]),o=Me.a.each(l,function(e){return e.reservations=r[e.courtNumber]}),u=Me.a.partition(o,"isCurrentCourt"),s=Object(i.a)(u,2),d=s[0],m=s[1],p=Me.a.map(d,fa),f=Me.a.map(m,ba);return Object(qe.a)({},a,{current:p,upcoming:f,reservations:e,courtGroups:r})}function ma(e){return Object(qe.a)({},e,{courtNumber:e.courtNumber,startAt:sa()(e.startAt).tz("America/Los_Angeles"),endAt:sa()(e.endAt).tz("America/Los_Angeles"),randoms:e.randoms,isCurrentCourt:da()-e.startAt>=0,reservations:[]})}function pa(e){var a=e.isCurrentCourt?"Started at ":"Starting at ";return Object(qe.a)({},e,{time:a+e.startAt.format("hh:mm")})}function fa(e){var a=sa.a.duration(e.endAt-da());return Object(qe.a)({},e,{time:"".concat(ya(a)," remaining")})}function ba(e){var a=sa.a.duration(e.startAt-da());return Object(qe.a)({},e,{time:"".concat(ya(a)," wait")})}function ya(e){var a="mm";return e.hours&&(a="HH:mm"),sa.a.utc(e.asMilliseconds()).format(a)}var Ea=t(259);var va=Object(u.c)({selected:function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:e=t.payload;var r=function(e,a){return Me.a.has(e,a._id)?Me.a.unset(e,a._id):Me.a.values(e).length<2&&Me.a.set(e,a._id,a),e}(Object(qe.a)({},a.players),e);return Object(qe.a)({},a,{players:r,playerNames:Me.a.map(r,function(e){return Me.a.toLower(e.name)}),useCourtRandoms:!1,courtCreatable:Me.a.size(r)>=2});case S:return Object(qe.a)({},a,{players:{},playerNames:[]});case L:return e=t.payload,Object(qe.a)({},a,{playerToUpdate:e});case T:case x:return Object(qe.a)({},a,{playerToUpdate:{}});case B:var n=t.payload;return Object(qe.a)({},a,{memberToCreate:n});case H:var c=!a.useCourtRandoms;return Object(qe.a)({},a,{useCourtRandoms:c,courtCreatable:c});case G:return Object(qe.a)({},a,{memberToCreate:{}});case I:return Object(qe.a)({},a,{playerNameFilter:null});case z:var l=t.payload;return Object(qe.a)({},a,{playerNameFilter:l});case Y:var o=t.payload;return Object(qe.a)({},a,{memberNameFilter:o});case D:var u=t.payload;return Object(qe.a)({},a,{courtNumber:u})}return a},people:function(){var e,a,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case U:return a=(e=r.payload)&&e.data&&e.data.players?e.data.players:[],a=Me.a.sortBy(a,function(e){return e.name}),a=Me.a.each(a,function(e){return e.name=Me.a.upperFirst(e.name)}),la(t,Object($e.a)(a));case P:var n=r.payload;return(a=t.players).push(n),a=Me.a.sortBy(a,function(e){return e.name}),a=Me.a.each(a,function(e){return e.name=Me.a.upperFirst(e.name)}),la(t,Object($e.a)(a));case A:var c=(e=r.payload)&&e.data&&e.data.members?e.data.members:[];c=Me.a.sortBy(c,function(e){return e.playerName});var l=ra(c=Me.a.each(c,function(e){return e.name=Me.a.upperFirst(e.playerName)}));return Object(qe.a)({},t,{members:c,chunkedMembers:l});case z:var o=r.payload;return Object(qe.a)({},t,{playerNameFilter:o,filteredPlayers:ca(t.players,t.reservedPlayerNames,o)});case Y:var u=r.payload,s=null;return Me.a.isEmpty(u)||(s=ra(s=Me.a.filter(t.members,ta(u)))).push([{name:u,_id:"searchedMember",isNew:!0}]),Object(qe.a)({},t,{filteredMembers:s});case G:return Object(qe.a)({},t,{filteredMembers:null});case I:var d=r.payload;return la(t,Me.a.reject(t.players,d));case T:return function(e){var a=e.player,t=e.name,r=e.password;a.name=t,a.password=r}(r.payload),la(t,Object($e.a)(t.players));case g:var i=Me.a.flatten(Me.a.map(r.payload.data.reservations,"players"));return i=Me.a.map(i,Me.a.upperFirst),la(Object(qe.a)({},t,{reservedPlayerNames:i}));case R:var m=r.payload.data.reservation.players;return m=Me.a.map(m,Me.a.upperFirst),la(Object(qe.a)({},t,{reservedPlayerNames:Me.a.union(t.reservedPlayerNames,m)}));case M:var p=r.payload.players;return p=Me.a.map(p,Me.a.upperFirst),la(Object(qe.a)({},t,{reservedPlayerNames:Me.a.without.apply(Me.a,[t.reservedPlayerNames].concat(Object($e.a)(p)))}))}return t},courts:function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{current:[],upcoming:[],reservations:[],courtGroups:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return ia(e=t.payload.data.reservations);case R:var r=t.payload.data.reservation;return(e=a.reservations).push(r),ia(e);case M:var n=t.payload.token;return ia(e=Me.a.reject(a.reservations,function(e){return e.token===n}))}return a},displays:function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{toast:null,modal:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return(e=t.payload)&&Ea.a.error(e),a;case J:var r=t.payload;return Object(qe.a)({},a,{modalToDisplay:r});case V:return Object(qe.a)({},a,{modalToDisplay:!1})}return a}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Na=Object(u.a)(d.a)(u.d);l.a.render(n.a.createElement(o.a,{store:Na(va)},n.a.createElement(function(){var e=Object(r.useState)(Ze),a=Object(i.a)(e,2),t=a[0],c=a[1],l=null;switch(t){case Ke:l=n.a.createElement(Pe,null);break;case Ze:l=n.a.createElement(We,null);break;case Qe:l=n.a.createElement(je,null)}var o=function(e,a){return n.a.createElement(be.a,{span:8,onClick:function(){return c(e)}},n.a.createElement(Je,{level:3},a))},u=n.a.createElement(Ve,{className:"bg-light main-header"},n.a.createElement(fe.a,{justify:"space-around",align:"middle"},o(Ze,"Courts"),o(Ke,"Players"),o(Qe,"Members"))),s=n.a.createElement(Xe,null,l);return n.a.createElement(pe.a,{className:"main-layout"},u,s)},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[144,1,2]]]);
//# sourceMappingURL=main.4ab7f3ef.chunk.js.map