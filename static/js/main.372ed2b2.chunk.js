(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{742:function(e,t,n){e.exports=n(794)},753:function(e,t,n){},754:function(e,t,n){},784:function(e,t,n){var r={"./ion-action-sheet-controller.entry.js":[807,85],"./ion-action-sheet-ios.entry.js":[808,63],"./ion-action-sheet-md.entry.js":[809,64],"./ion-alert-controller.entry.js":[810,86],"./ion-alert-ios.entry.js":[811,48],"./ion-alert-md.entry.js":[812,49],"./ion-anchor_2-ios.entry.js":[813,65],"./ion-anchor_2-md.entry.js":[814,66],"./ion-app_7-ios.entry.js":[815,26],"./ion-app_7-md.entry.js":[816,27],"./ion-avatar_3-ios.entry.js":[817,67],"./ion-avatar_3-md.entry.js":[818,68],"./ion-backdrop-ios.entry.js":[819,46],"./ion-backdrop-md.entry.js":[820,47],"./ion-button_2-ios.entry.js":[821,28],"./ion-button_2-md.entry.js":[822,29],"./ion-card_5-ios.entry.js":[823,69],"./ion-card_5-md.entry.js":[824,70],"./ion-checkbox-ios.entry.js":[825,30],"./ion-checkbox-md.entry.js":[826,31],"./ion-chip-ios.entry.js":[827,71],"./ion-chip-md.entry.js":[828,72],"./ion-col_3.entry.js":[829,87],"./ion-datetime_4-ios.entry.js":[830,18],"./ion-datetime_4-md.entry.js":[831,19],"./ion-fab_3-ios.entry.js":[832,73],"./ion-fab_3-md.entry.js":[833,74],"./ion-img.entry.js":[834,88],"./ion-infinite-scroll_2-ios.entry.js":[835,59],"./ion-infinite-scroll_2-md.entry.js":[836,60],"./ion-input-ios.entry.js":[837,32],"./ion-input-md.entry.js":[838,33],"./ion-item-option_3-ios.entry.js":[839,34],"./ion-item-option_3-md.entry.js":[840,35],"./ion-item_8-ios.entry.js":[841,75],"./ion-item_8-md.entry.js":[842,76],"./ion-loading-controller.entry.js":[843,89],"./ion-loading-ios.entry.js":[844,50],"./ion-loading-md.entry.js":[845,51],"./ion-menu_4-ios.entry.js":[846,24],"./ion-menu_4-md.entry.js":[847,25],"./ion-modal-controller.entry.js":[848,90],"./ion-modal-ios.entry.js":[849,14],"./ion-modal-md.entry.js":[850,15],"./ion-nav_4.entry.js":[851,12],"./ion-popover-controller.entry.js":[852,91],"./ion-popover-ios.entry.js":[853,16],"./ion-popover-md.entry.js":[854,17],"./ion-progress-bar-ios.entry.js":[855,36],"./ion-progress-bar-md.entry.js":[856,37],"./ion-radio_2-ios.entry.js":[857,38],"./ion-radio_2-md.entry.js":[858,39],"./ion-range-ios.entry.js":[859,40],"./ion-range-md.entry.js":[860,41],"./ion-refresher_2-ios.entry.js":[861,61],"./ion-refresher_2-md.entry.js":[862,62],"./ion-reorder_2-ios.entry.js":[863,57],"./ion-reorder_2-md.entry.js":[864,58],"./ion-ripple-effect.entry.js":[865,92],"./ion-route_4.entry.js":[866,13],"./ion-searchbar-ios.entry.js":[867,22],"./ion-searchbar-md.entry.js":[868,23],"./ion-segment_2-ios.entry.js":[869,77],"./ion-segment_2-md.entry.js":[870,78],"./ion-select_3-ios.entry.js":[871,42],"./ion-select_3-md.entry.js":[872,43],"./ion-slide_2-ios.entry.js":[873,55],"./ion-slide_2-md.entry.js":[874,56],"./ion-spinner.entry.js":[875,79],"./ion-split-pane-ios.entry.js":[876,93],"./ion-split-pane-md.entry.js":[877,94],"./ion-tab-bar_2-ios.entry.js":[878,80],"./ion-tab-bar_2-md.entry.js":[879,81],"./ion-tab_2.entry.js":[880,54],"./ion-text.entry.js":[881,82],"./ion-textarea-ios.entry.js":[882,44],"./ion-textarea-md.entry.js":[883,45],"./ion-toast-controller.entry.js":[884,95],"./ion-toast-ios.entry.js":[885,52],"./ion-toast-md.entry.js":[886,53],"./ion-toggle-ios.entry.js":[887,20],"./ion-toggle-md.entry.js":[888,21],"./ion-virtual-scroll.entry.js":[889,96]};function a(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],a=t[0];return n.e(t[1]).then(function(){return n(a)})}a.keys=function(){return Object.keys(r)},a.id=784,e.exports=a},794:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(22),l=n.n(o),c=n(2),u=n(16),s=n(738),i=n.n(s),m=(n(753),n(7)),d=(n(754),n(9)),p=n.n(d),y=n(19),b=n(17),f=n.n(b),E=n(739),j=n.n(E),v="https://bab.moepas.com/api/",I="members",h="players",O="courts",C="players/add",g="players/delete",_="courts/register",N="courts/unregister",w="FETCH_MEMBERS",k="FETCH_PLAYERS",L="FETCH_COURTS",A="CREATE_PLAYER",P="REMOVE_PLAYER",T="UPDATE_PLAYER",R="CREATE_COURT",S="REMOVE_RESERVATION",M="SELECT_PLAYER",x="DESELECT_PLAYERS",F="START_UPDATING_PLAYER",B="CANCEL_PLAYER_UPDATE",D="SELECT_MEMBER",U="SELECT_COURT_NUMBER",H="SELECT_COURT_RANDOMS",Y="FILTER_PLAYER",z="FILTER_MEMBER",G="CANCEL_MEMBER_CREATE",V="SET_TOAST",J="CLEAR_TOAST",W="DISPLAY_MODAL",q="CLEAR_MODAL";function $(){var e=K(h);return{type:k,payload:e}}function K(e){return f.a.get(v+e)}function Q(){return{type:x}}function X(e){var t=e.courtNumber;return{type:U,payload:void 0===t?-1:t}}function Z(){return(Z=Object(y.a)(p.a.mark(function e(t,n,r){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={type:V,payload:"Unable to update player"},e.next=3,ee(t);case 3:if(e.sent.type!==V){e.next=6;break}return e.abrupt("return",a);case 6:return e.next=8,ne({name:n,password:r});case 8:if(e.sent.type!==V){e.next=11;break}return e.abrupt("return",a);case 11:return e.abrupt("return",{type:T,payload:{player:t,name:n,password:r}});case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(y.a)(p.a.mark(function e(t){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=P,r=null,e.next=4,f.a.post(v+g,t).then(function(){r=t}).catch(function(e){console.log(e),n=V,r="Unable to delete the player"});case 4:return e.abrupt("return",{type:n,payload:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(y.a)(p.a.mark(function e(t){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=A,r=null,e.next=4,f.a.post(v+C,t).then(function(){r=t}).catch(function(e){console.log(e),n=V,r="Unable to create the player"});case 4:return e.abrupt("return",{type:n,payload:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(){return(ae=Object(y.a)(p.a.mark(function e(t){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=R,r=null,e.next=4,f.a.post(v+_,t).then(function(e){r=e}).catch(function(e){console.log(e),n=V,r="Unable to create the court"});case 4:return e.abrupt("return",{type:n,payload:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oe(){return(oe=Object(y.a)(p.a.mark(function e(t){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=S,r=null,e.next=4,f.a.post(v+N,{token:t.token}).then(function(){r=t}).catch(function(e){console.log(e),n=V,r="Unable to remove reservation"});case 4:return e.abrupt("return",{type:n,payload:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pageModal";return{type:W,payload:e}}function ce(){return{type:q,payload:Promise.resolve()}}f.a.interceptors.request.use(function(e){return e.headers["Content-type"]="application/x-www-form-urlencoded",e.data=j.a.stringify(e.data),e});var ue=n(1);function se(e){var t=e.member,n=e.highlighted,r=Object(c.b)(),o=t.isNew?'Create password for: "'.concat(t.name,'"'):t.name;return a.a.createElement(ue.IonLabel,{onClick:function(){n||r(function(e){return{type:D,payload:e}}(t)),r(le())}},o)}function ie(){var e=document.getElementsByClassName("item-sliding-active-slide");e.length&&e[0].close()}function me(e){var t=e.children,n=e.modalId,r=void 0===n?"pageModal":n,o=Object(c.b)(),l=Object(c.c)(function(e){return e.displays.modalToDisplay})===r;return a.a.createElement(ue.IonPopover,{isOpen:l,onDidDismiss:function(){return o(ce())}},t)}function de(e){var t=e.children;return a.a.createElement(ue.IonRow,null,t)}function pe(e){var t=e.onCancel,n=e.onSuccess,r=e.successEnabled,o=void 0===r||r,l=Object(c.b)();return a.a.createElement(ue.IonItem,{className:"w-100 pt-2 pb-2",lines:"none"},a.a.createElement(ue.IonButton,{color:"danger",onClick:function(){ie(),l(ce()).then(function(){t&&t()})},slot:"start",size:"medium"},a.a.createElement(ue.IonIcon,{slot:"icon-only",name:"close-circle"})),a.a.createElement(ue.IonButton,{color:"success",onClick:function(){l(ce()).then(function(){n&&n()})},disabled:!o,slot:"end",size:"medium"},a.a.createElement(ue.IonIcon,{slot:"icon-only",name:"checkmark-circle"})))}var ye=["mouse","ox","tiger","rabbit","dragon","snake","horse","goat","monkey","rooster","dog","pig","cat"];function be(e){var t=e.selectedPassword,n=e.updatePassword,r=function(e){return e===t?"medium":"light"},o=function(e){return function(){return n(e)}};return a.a.createElement("div",{className:"d-inline-flex flex-wrap justify-content-center"},ye.map(function(e){return a.a.createElement(ue.IonButton,{color:r(e),onClick:o(e),key:e},e)}))}function fe(){var e=Object(c.b)(),t=Object(c.c)(function(e){return e.selected.memberToCreate}),n=Object(r.useState)(""),o=Object(m.a)(n,2),l=o[0],u=o[1];return a.a.createElement(me,null,a.a.createElement(ue.IonCardHeader,null,a.a.createElement(ue.IonCardTitle,null,t.name)),a.a.createElement(be,{selectedPassword:l,updatePassword:u}),a.a.createElement(pe,{onCancel:function(){return e({type:G})},onSuccess:function(){return e(ne({name:t.name,password:l}))}}))}function Ee(e){var t=e.updateScreenInfoCallBack;return a.a.createElement(ue.IonRefresher,{slot:"fixed",onIonRefresh:function(e){t().then(function(){return e.detail.complete()})}},a.a.createElement(ue.IonRefresherContent,null))}function je(){var e=Object(c.c)(function(e){return e.people.filteredMembers||e.people.chunkedMembers}),t=Object(c.b)();function n(){return t(function(){var e=K(I);return{type:w,payload:e}}())}Object(r.useEffect)(function(){n()},[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ee,{updateScreenInfoCallBack:n}),a.a.createElement(ue.IonGrid,{title:"Members"},e.map(function(e){return a.a.createElement(ue.IonRow,null,e.map(function(e){return a.a.createElement(ue.IonCol,null,function(e){return e?a.a.createElement(se,{member:e,key:e._id,isNewMember:e.isNew}):a.a.createElement("span",null)}(e))}))})),a.a.createElement(fe,null))}function ve(){var e=Object(c.b)(),t=Object(c.c)(function(e){return e.selected.memberNameFilter});return a.a.createElement(ue.IonFooter,null,a.a.createElement(ue.IonToolbar,null,a.a.createElement(ue.IonSearchbar,{style:{"--placeholder-color":"blue"},placeholder:"Filter or add Member",value:t,onIonInput:function(t){return e((n=t.target.value,{type:z,payload:n}));var n}})))}function Ie(e){var t=e.player,n=Object(c.b)();return a.a.createElement(ue.IonItemSliding,{value:t._id},a.a.createElement(ue.IonItem,null,a.a.createElement(ue.IonLabel,null,t.name),a.a.createElement("span",{slot:"end",className:"text-muted"},t.password)),a.a.createElement(ue.IonItemOptions,{side:"end"},a.a.createElement(ue.IonItemOption,{color:"light",onClick:function(){n(function(e){return{type:F,payload:e}}(t)),n(le("playerEditModal"))}},a.a.createElement(ue.IonIcon,{slot:"icon-only",name:"create"})),a.a.createElement(ue.IonItemOption,{color:"danger",onClick:function(){ie(),n(ee(t))}},a.a.createElement(ue.IonIcon,{slot:"icon-only",name:"close"}))))}function he(){var e=Object(c.b)(),t=Object(c.c)(function(e){return e.selected.playerToUpdate}),n=Object(r.useState)(t.password),o=Object(m.a)(n,2),l=o[0],u=o[1],s=Object(r.useState)(t.name),i=Object(m.a)(s,2),d=i[0],p=i[1];return a.a.createElement(me,{modalId:"playerEditModal"},a.a.createElement(ue.IonCardHeader,{className:"mb-2"},a.a.createElement(ue.IonCardTitle,null,t.name," : ",t.password)),a.a.createElement(ue.IonItem,{lines:"none"},a.a.createElement("span",{className:"mr-2 text-muted"},"Name:"),a.a.createElement(ue.IonInput,{placeholder:"Enter Name",value:d,onIonChange:function(e){return p(e.target.value)}})),a.a.createElement(be,{selectedPassword:l,updatePassword:u}),a.a.createElement(ue.IonItemDivider,null),a.a.createElement(ue.IonItem,{lines:"full"},a.a.createElement(ue.IonLabel,null,a.a.createElement("span",{className:"text-muted"},"Is this correct?")," ",d," : ",l)),a.a.createElement(pe,{onCancel:function(){return e({type:B})},onSuccess:function(){return e(function(e,t,n){return Z.apply(this,arguments)}(t,d,l))}}))}function Oe(){var e=Object(c.b)(),t=Object(r.useState)(""),n=Object(m.a)(t,2),o=n[0],l=n[1],u=Object(r.useState)(""),s=Object(m.a)(u,2),i=s[0],d=s[1],p=function(){l(""),d("")},y=i&&o;return a.a.createElement(me,null,a.a.createElement(ue.IonCardHeader,{className:"mb-2"},a.a.createElement(ue.IonCardTitle,null,"Create new Player")),a.a.createElement(ue.IonItem,{lines:"none"},a.a.createElement("span",{className:"mr-2 text-muted"},"Name:"),a.a.createElement(ue.IonInput,{placeholder:"Enter Name",value:i,onIonChange:function(e){return d(e.target.value)}})),a.a.createElement(be,{selectedPassword:o,updatePassword:l}),a.a.createElement(ue.IonItemDivider,null),a.a.createElement(ue.IonItem,{lines:"full"},a.a.createElement(ue.IonLabel,null,a.a.createElement("span",{className:"text-muted"},"Is this correct?")," ",i," : ",o)),a.a.createElement(pe,{onCancel:p,onSuccess:function(){e(ne({name:i,password:o})),p()},successEnabled:y}))}function Ce(){var e=Object(c.b)(),t=Object(c.c)(function(e){return e.selected.playerNameFilter});return a.a.createElement(ue.IonFooter,null,a.a.createElement(ue.IonToolbar,null,a.a.createElement(ue.IonSearchbar,{style:{"--placeholder-color":"red"},placeholder:"Filter or add Player",value:t,onIonInput:function(t){return e((n=t.target.value,{type:Y,payload:n}));var n}})))}function ge(){var e=Object(c.c)(function(e){return e.people.filteredPlayers||e.people.partitionedPlayers}),t=Object(m.a)(e,2),n=t[0],o=t[1],l=Object(c.b)();function u(){return l($())}return Object(r.useEffect)(function(){u()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Ee,{updateScreenInfoCallBack:u}),a.a.createElement(ue.IonList,{id:"player-panel__list"},a.a.createElement(ue.IonListHeader,null,a.a.createElement(ue.IonLabel,null,"Available players")),o.map(function(e){return a.a.createElement(Ie,{player:e,key:e._id})}),a.a.createElement(ue.IonListHeader,null,a.a.createElement(ue.IonLabel,null,"Players in use")),n.map(function(e){return a.a.createElement(Ie,{player:e,key:e._id})})),a.a.createElement(he,null),a.a.createElement(Oe,null))}function _e(e){var t=e.court,n=Object(c.b)();return a.a.createElement(ue.IonCard,{onclick:function(){n(X(t)),n(le("courtEditModal"))}},a.a.createElement(ue.IonItem,null,a.a.createElement(ue.IonCardSubtitle,null,"Court ",t.courtNumber)),a.a.createElement("div",{className:"card-body py-3"},t.time))}var Ne=n(3),we=n.n(Ne);function ke(e){var t=e.player,n=(e.ignoreEdit,Object(c.c)(function(e){return e.selected.players})),r=Object(c.b)(),o=we.a.has(n,t._id),l=o?"success":"dark";return a.a.createElement(ue.IonItem,{onClick:function(){return r(function(e){return{type:M,payload:e}}(t))}},a.a.createElement(ue.IonCheckbox,{className:"mr-1",checked:o}),a.a.createElement(ue.IonLabel,{color:l},t.name),a.a.createElement("span",{slot:"end",className:"text-muted"},t.password))}function Le(){var e=Object(c.c)(function(e){return e.people.filteredPlayers||e.people.partitionedPlayers}),t=Object(m.a)(e,2),n=(t[0],t[1]),o=Object(c.c)(function(e){return e.selected.useCourtRandoms}),l=Object(c.b)();Object(r.useEffect)(function(){l($())},[]);var u=o?"Randoms":a.a.createElement("strike",null,"Randoms");return a.a.createElement(ue.IonList,null,a.a.createElement(ue.IonListHeader,{lines:"none"},"Use Randoms?",a.a.createElement(ue.IonButton,{checked:o,onclick:function(){!o&&l(Q()),l({type:H})},size:"small",children:u})),a.a.createElement(ue.IonListHeader,null,a.a.createElement(ue.IonLabel,null,"Available players")),n.map(function(e){return a.a.createElement(ke,{player:e,key:e._id})}))}function Ae(){var e=Object(c.b)(),t=Object(r.useState)(0),n=Object(m.a)(t,2),o=n[0],l=n[1],u=Object(r.useState)(0),s=Object(m.a)(u,2),i=s[0],d=s[1],p=Object(c.c)(function(e){return e.selected.playerNames}),y=Object(c.c)(function(e){return e.selected.useCourtRandoms}),b=Object(c.c)(function(e){return e.selected.courtCreatable});return a.a.createElement(me,null,a.a.createElement(de,null,a.a.createElement(ue.IonCol,null,a.a.createElement(ue.IonItem,{lines:"none"},a.a.createElement("span",{className:"mr-2 text-muted"},"Court Number:"),a.a.createElement(ue.IonInput,{placeholder:"Enter Court Number",type:"number",value:o,onIonChange:function(e){return l(e.target.value)}}))),a.a.createElement(ue.IonCol,{slot:"end"},a.a.createElement(ue.IonItem,{lines:"none"},a.a.createElement("span",{className:"mr-2 text-muted"},"Delay:"),a.a.createElement(ue.IonInput,{placeholder:"Enter Delay",type:"number",value:i,onIonChange:function(e){return d(e.target.value)}})))),a.a.createElement(Le,null),a.a.createElement(pe,{onCancel:function(){return e(Q())},onSuccess:function(){e(function(e){return ae.apply(this,arguments)}({courtNumber:o,names:p,delay:i,randoms:y})),e(Q())},successEnabled:b}))}function Pe(e){var t=e.reservation,n=Object(c.b)(),r=t.players.join(" ")||"randoms";return a.a.createElement(ue.IonItemSliding,{value:t._id},a.a.createElement(ue.IonItem,null,a.a.createElement(ue.IonLabel,null,r),a.a.createElement("span",{slot:"end",className:"text-muted"},t.time)),a.a.createElement(ue.IonItemOptions,{side:"end"},a.a.createElement(ue.IonItemOption,{color:"danger",onClick:function(){ie(),n(function(e){return oe.apply(this,arguments)}(t))}},a.a.createElement(ue.IonIcon,{slot:"icon-only",name:"close"}))))}function Te(){var e=Object(c.b)(),t=Object(c.c)(function(e){return e.selected.courtNumber}),n=Object(c.c)(function(e){return e.courts.courtGroups[t]});"courtEditModal"!==Object(c.c)(function(e){return e.displays.modalToDisplay})||n||e(ce());return a.a.createElement(me,{modalId:"courtEditModal"},a.a.createElement(de,null,a.a.createElement(ue.IonItem,{lines:"none"},a.a.createElement(ue.IonCardTitle,null,"Court ",t))),a.a.createElement(ue.IonList,null,n&&n.map(function(e){return a.a.createElement(Pe,{reservation:e})})),a.a.createElement(pe,{onCancel:function(){return e(X(-1))}}))}var Re=12e4;function Se(){var e=Object(c.c)(function(e){return e.courts}),t=e.current,n=e.upcoming,o=Object(c.b)();function l(){return o(function(){var e=K(O);return{type:L,payload:e}}()).then(function(){return o($())})}Object(r.useEffect)(function(){l()},[]),Object(r.useEffect)(function(){var e=setInterval(l,Re);return function(){return clearInterval(e)}},[]);var u=function(e){return a.a.createElement(a.a.Fragment,null,e.map(function(e){return a.a.createElement(_e,{court:e,key:e.id})}))};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ee,{updateScreenInfoCallBack:l}),a.a.createElement(ue.IonList,null,a.a.createElement(ue.IonListHeader,null,a.a.createElement(ue.IonLabel,null,"Current Courts")),u(t),a.a.createElement(ue.IonListHeader,null,a.a.createElement(ue.IonLabel,null,"Upcoming Courts")),u(n)),a.a.createElement(Ae,null),a.a.createElement(Te,null))}n(790),n(791);function Me(){var e=Object(c.b)(),t=Object(c.c)(function(e){return e.displays.toast});return a.a.createElement(ue.IonToast,{isOpen:!!t,onDidDismiss:function(){return e({type:J})},message:t,duration:800})}function xe(){var e=Object(c.b)();return a.a.createElement(ue.IonFab,{vertical:"bottom",horizontal:"end",slot:"fixed"},a.a.createElement(ue.IonFabButton,{onclick:function(){return e(le())}},a.a.createElement(ue.IonIcon,{name:"add"})))}var Fe="PLAYER_PANE",Be="COURT_PANE",De="MEMBER_PANE";var Ue=n(4),He=n(24),Ye={members:[],players:[],partitionedPlayers:[[],[]],chunkedMembers:[],filteredPlayers:null,filteredMembers:null,reservedPlayerNames:[],playerNameFilter:null},ze=3,Ge=function(e){return function(t){var n=t.name;return we.a.toLower(n).includes(we.a.toLower(e))}};function Ve(e){return 0===e.length?[]:(e=we.a.chunk(e,ze),we.a.last(e).length!==ze&&(we.a.last(e)[ze-1]=void 0),e)}function Je(e,t){return we.a.partition(e,function(e){return we.a.includes(t,e.name)})}function We(e,t,n){return we.a.isEmpty(n)?null:Je(we.a.filter(e,Ge(n)),t)}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.players;return Object(Ue.a)({},e,{players:t,partitionedPlayers:Je(t,e.reservedPlayerNames),filteredPlayers:We(t,e.reservedPlayerNames,e.playerNameFilter)})}var $e={players:{},memberToCreate:{},password:null,playerToUpdate:{},playerNameFilter:null,memberNameFilter:null,playerNames:[],court:{},useCourtRandoms:!1,courtCreatable:!1};var Ke=n(20),Qe=n.n(Ke),Xe=function(){return new Date};function Ze(e,t){var n=we.a.map(e,et),r=we.a.groupBy(we.a.map(n,tt),"courtNumber"),a=we.a.reject(n,"randoms"),o=function(e){return we.a.reduceRight(e,function(e,t){var n=we.a.last(e);return function(e,t){return e&&e.courtNumber===t.courtNumber&&e.randoms===t.randoms&&e.startAt.isSame(t.endAt)}(n,t)?(n.endAt=t.startAt,n.isCurrentCourt|=t.isCurrentCourt,e):e.concat(t)},[])}(we.a.sortBy(a,["courtNumber","startAt"])),l=we.a.sortBy(o,["startAt"]),c=we.a.each(l,function(e){return e.reservations=r[e.courtNumber]}),u=we.a.partition(c,"isCurrentCourt"),s=Object(m.a)(u,2),i=s[0],d=s[1],p=we.a.map(i,nt),y=we.a.map(d,rt);return Object(Ue.a)({},t,{current:p,upcoming:y,reservations:e,courtGroups:r})}function et(e){return Object(Ue.a)({},e,{courtNumber:e.courtNumber,startAt:Qe()(e.startAt).tz("America/Los_Angeles"),endAt:Qe()(e.endAt).tz("America/Los_Angeles"),randoms:e.randoms,isCurrentCourt:Xe()-e.startAt>=0,reservations:[]})}function tt(e){var t=e.isCurrentCourt?"Started at ":"Starting at ";return Object(Ue.a)({},e,{time:t+e.startAt.format("hh:mm")})}function nt(e){var t=Qe.a.duration(e.endAt-Xe());return Object(Ue.a)({},e,{time:"".concat(at(t)," remaining")})}function rt(e){var t=Qe.a.duration(e.startAt-Xe());return Object(Ue.a)({},e,{time:"".concat(at(t)," wait")})}function at(e){var t="mm";return e.hours&&(t="HH:mm"),Qe.a.utc(e.asMilliseconds()).format(t)}var ot=Object(u.c)({selected:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case M:e=n.payload;var r=function(e,t){return we.a.has(e,t._id)?we.a.unset(e,t._id):we.a.values(e).length<2&&we.a.set(e,t._id,t),e}(Object(Ue.a)({},t.players),e);return Object(Ue.a)({},t,{players:r,playerNames:we.a.map(r,function(e){return we.a.toLower(e.name)}),useCourtRandoms:!1,courtCreatable:we.a.size(r)>=2});case x:return Object(Ue.a)({},t,{players:{},playerNames:[]});case F:return e=n.payload,Object(Ue.a)({},t,{playerToUpdate:e});case T:case B:return Object(Ue.a)({},t,{playerToUpdate:{}});case D:var a=n.payload;return Object(Ue.a)({},t,{memberToCreate:a});case H:var o=!t.useCourtRandoms;return Object(Ue.a)({},t,{useCourtRandoms:o,courtCreatable:o});case G:return Object(Ue.a)({},t,{memberToCreate:{}});case P:return Object(Ue.a)({},t,{playerNameFilter:null});case Y:var l=n.payload;return Object(Ue.a)({},t,{playerNameFilter:l});case z:var c=n.payload;return Object(Ue.a)({},t,{memberNameFilter:c});case U:var u=n.payload;return Object(Ue.a)({},t,{courtNumber:u})}return t},people:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case k:return t=(e=r.payload)&&e.data&&e.data.players?e.data.players:[],t=we.a.sortBy(t,function(e){return e.name}),t=we.a.each(t,function(e){return e.name=we.a.upperFirst(e.name)}),qe(n,Object(He.a)(t));case A:var a=r.payload;return(t=n.players).push(a),t=we.a.sortBy(t,function(e){return e.name}),t=we.a.each(t,function(e){return e.name=we.a.upperFirst(e.name)}),qe(n,Object(He.a)(t));case w:var o=(e=r.payload)&&e.data&&e.data.members?e.data.members:[];o=we.a.sortBy(o,function(e){return e.playerName});var l=Ve(o=we.a.each(o,function(e){return e.name=we.a.upperFirst(e.playerName)}));return Object(Ue.a)({},n,{members:o,chunkedMembers:l});case Y:var c=r.payload;return Object(Ue.a)({},n,{playerNameFilter:c,filteredPlayers:We(n.players,n.reservedPlayerNames,c)});case z:var u=r.payload,s=null;return we.a.isEmpty(u)||(s=Ve(s=we.a.filter(n.members,Ge(u)))).push([{name:u,_id:"searchedMember",isNew:!0}]),Object(Ue.a)({},n,{filteredMembers:s});case G:return Object(Ue.a)({},n,{filteredMembers:null});case P:var i=r.payload;return qe(n,we.a.reject(n.players,i));case T:return function(e){var t=e.player,n=e.name,r=e.password;t.name=n,t.password=r}(r.payload),qe(n,Object(He.a)(n.players));case L:var m=we.a.flatten(we.a.map(r.payload.data.reservations,"players"));return m=we.a.map(m,we.a.upperFirst),qe(Object(Ue.a)({},n,{reservedPlayerNames:m}));case R:var d=r.payload.data.reservation.players;return d=we.a.map(d,we.a.upperFirst),qe(Object(Ue.a)({},n,{reservedPlayerNames:we.a.union(n.reservedPlayerNames,d)}));case S:var p=r.payload.players;return p=we.a.map(p,we.a.upperFirst),qe(Object(Ue.a)({},n,{reservedPlayerNames:we.a.without.apply(we.a,[n.reservedPlayerNames].concat(Object(He.a)(p)))}))}return n},courts:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{current:[],upcoming:[],reservations:[],courtGroups:{}},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case L:return Ze(e=n.payload.data.reservations);case R:var r=n.payload.data.reservation;return(e=t.reservations).push(r),Ze(e);case S:var a=n.payload.token;return Ze(e=we.a.reject(t.reservations,function(e){return e.token===a}))}return t},displays:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{toast:null,modal:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(Ue.a)({},e,{toast:t.payload});case J:return Object(Ue.a)({},e,{toast:null});case W:var n=t.payload;return Object(Ue.a)({},e,{modalToDisplay:n});case q:return Object(Ue.a)({},e,{modalToDisplay:!1})}return e}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lt=Object(u.a)(i.a)(u.d);l.a.render(a.a.createElement(c.a,{store:lt(ot)},a.a.createElement(function(){var e=Object(r.useState)(Be),t=Object(m.a)(e,2),n=t[0],o=t[1],l=null,c=null,u=a.a.createElement(xe,null);switch(n){case Fe:c=a.a.createElement(ge,null),l=a.a.createElement(Ce,null);break;case Be:c=a.a.createElement(Se,null);break;case De:l=a.a.createElement(ve,null),c=a.a.createElement(je,null),u=null}var s=a.a.createElement(ue.IonHeader,null,a.a.createElement(ue.IonToolbar,{class:"header"},a.a.createElement(ue.IonSegment,{onIonChange:function(e){return o(e.detail.value)},value:n},a.a.createElement(ue.IonSegmentButton,{value:Be},a.a.createElement(ue.IonLabel,null,"Courts")),a.a.createElement(ue.IonSegmentButton,{value:Fe},a.a.createElement(ue.IonLabel,null,"Players")),a.a.createElement(ue.IonSegmentButton,{value:De},a.a.createElement(ue.IonLabel,null,"Members"))))),i=a.a.createElement(ue.IonContent,{fullScreen:!0},c,u,a.a.createElement(Me,null));return a.a.createElement(ue.IonApp,null,s,i,l)},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[742,10,11]]]);
//# sourceMappingURL=main.372ed2b2.chunk.js.map